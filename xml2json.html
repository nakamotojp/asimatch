<!DOCTYPE html>
<html lang="en">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link src="./css/normalize.css">

    <link src="./css/common.css">
    <link src="./css/element.css">
</head>
<body>
    <div id="body" class="hidden clearfix" style="visibility: visible;">
        <div id="content">
            <div id="content-inner">
                <div id="main">
                <div class="section no-0 active"><h2 class="title"><a href="https://web.archive.org/web/20220112230902/http://hatebu.straightline.jp/?https://web.archive.org/web/20211125003103/http://b.hatena.ne.jp/hotentry">最近の人気エントリー</a></h2>
                </div>
                </div>
            </div>
        </div>
    </div>
    <div id="rss_feed"></div>
    <script src="http://code.jquery.com/jquery-1.6.4.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.8.4/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-rss/4.3.0/jquery.rss.min.js"></script>
  <script type="text/javascript">
    var htmlstr;
    window.onload = async function () {
        // rss feed を取得
        const res = await fetch('https://api.factmaven.com/xml-to-json/?xml=https://b.hatena.ne.jp/hotentry.rss');
        const data = await res.json();
        const id_name = "rss_feed";
        for( var num in data.RDF.item ) {
        //console.log(data.RDF.item[num]);
        var el = data.RDF.item[num];
        console.log(el.date);
        console.log(el.bookmarkcount);
        console.log(el.bookmarkCommentListPageUrl);
        console.log(el.subject);
        console.log(el.topics.Bag);
        console.log(el.imageurl);
        console.log(el.description);
        //$("#rss_feed").html("<a href='"+el.link+"'>"+el.title+"</a>");
        document.write("<p>"+el.bookmarkcount+"<a href='"+el.link+"'>"+el.title+"</a></p>"+el.subject);
        // アイテムを１個ずつ表示
        }
      };
</script>
</body>
</html>
